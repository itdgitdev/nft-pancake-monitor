/* =========================================
   1. VARIABLES & THEME CONFIGURATION
   ========================================= */
:root {
    /* --- Main Theme Colors (User Provided) --- */
    --bg-color: #f5f5f5;
    --bg-container: #fff;
    --text-color: #000000;
    --text-checkbox: #ffffff;
    --text-title: #2c3e50;
    --bg-menu: #2c3e50;
    --menu-hover: #1f2b36;
    --bg-form: #f5f5f5;
    --text-label: #2c3e50;
    --bg-thead: #2c3e50;
    --text-thead: #fff;
    --border-color: #ddd;
    --bg-tchild: #f1f1f1;
    --tbody-hover: #e8f0fe;
    --bg-pagination: #fff;
    --text-pagination: #fff;

    /* --- Functional Colors (UI State) --- */
    --primary: var(--bg-menu);       /* Dùng màu menu làm màu chính */
    --primary-focus: var(--menu-hover);
    --secondary: #f000b8;            /* Giữ lại cho Badge highlight */
    --accent: #37cdbe;
    --success: #22c55e;
    --warning: #f59e0b;
    --error: #ef4444;
    --info: #3b82f6;
    
    /* --- Layout & Spacing --- */
    --rounded-box: 0.5rem;
    --rounded-btn: 0.375rem;
}

body.dark-mode {
    /* --- Dark Theme Colors (User Provided) --- */
    --bg-color: #0f172a;
    --text-color: #f1f5f9;
    --text-checkbox: #000000;
    --bg-container: #1e293b;
    --text-title: #fbbf24;
    --bg-menu: #fbbf24;
    --menu-hover: #d8a31b;
    --bg-form: #334155;
    --text-label: #e0f2fe;
    --bg-thead: #2c3e50;
    --text-thead: #facc15;
    --border-color: #435063;
    --bg-tchild: #273449;
    --tbody-hover: #334155;
    --bg-pagination: #334155;
    --text-pagination: #fff;

    /* --- Functional Override for Dark Mode --- */
    --primary: var(--text-title);    /* Màu vàng nổi bật trong dark mode */
    --primary-focus: var(--menu-hover);
}

body {
    background-color: var(--bg-color);
    color: var(--text-color);
    font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    transition: background-color 0.3s, color 0.3s;
}

/* =========================================
   2. COMPONENT STYLES (Adapted to Theme)
   ========================================= */

/* Container */
.mint-container {
    max-width: 48rem;
    margin-left: auto;
    margin-right: auto;
    padding: 1rem;
}

/* Cards */
.card {
    position: relative;
    display: flex;
    flex-direction: column;
    border-radius: var(--rounded-box);
    background-color: var(--bg-container); /* Theme Aware */
    border: 1px solid var(--border-color); /* Theme Aware */
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    overflow: hidden;
    transition: background-color 0.3s, border-color 0.3s;
}

.card-body {
    padding: 2rem;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.card-title {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 1.5rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
    color: var(--text-title); /* Theme Aware */
    text-transform: uppercase;

}

/* Inputs */
.form-control {
    display: flex;
    flex-direction: column;
}

.label {
    display: flex;
    user-select: none;
    align-items: center;
    justify-content: space-between;
    padding: 0.5rem 0.25rem;
}

.label-text {
    color: var(--text-label); /* Theme Aware */
    font-weight: 600;
}

.input {
    flex-shrink: 1;
    height: 3rem;
    padding-left: 1rem;
    padding-right: 1rem;
    font-size: 0.875rem;
    line-height: 2;
    border-radius: var(--rounded-btn);
    border: 1px solid var(--border-color); /* Theme Aware */
    background-color: var(--bg-form);       /* Theme Aware */
    color: var(--text-color);              /* Theme Aware */
    transition: all 0.2s;
}

.input:focus {
    outline: 2px solid var(--primary);
    outline-offset: 2px;
    border-color: var(--primary);
}

/* Buttons */
.btn {
    display: inline-flex;
    flex-shrink: 0;
    cursor: pointer;
    user-select: none;
    flex-wrap: wrap;
    align-items: center;
    justify-content: center;
    border-color: transparent;
    border-radius: var(--rounded-btn);
    height: 3rem;
    padding-left: 1rem;
    padding-right: 1rem;
    font-size: 0.875rem;
    font-weight: 600;
    text-transform: uppercase;
    text-decoration: none;
    border-width: 1px;
    animation: button-pop var(--animation-btn, 0.25s) ease-out;
    transition: transform 0.2s, background-color 0.2s, color 0.2s;
}

.btn-check-range {
    white-space: normal !important;
    word-wrap: break-word;
    max-width: 100%;
    height: auto;
    min-width: 120px;
}

.btn-primary {
    background-color: var(--primary);
    border-color: var(--primary);
    color: var(--bg-container); /* Text contrast logic: often white on dark bg, or dark on light bg */
}

/* Logic đảo màu text cho nút Primary trong Dark Mode để dễ đọc */
/* body.dark-mode .btn-primary {
    color: var(--bg-container);
} */

.btn-primary:hover {
    background-color: var(--primary-focus);
    border-color: var(--primary-focus);
}

.btn-success {
    background-color: var(--success);
    border-color: var(--success);
    color: #fff;
}

.btn:disabled {
    background-color: var(--bg-form);
    border-color: var(--border-color);
    color: var(--text-label);
    opacity: 0.6;
    cursor: not-allowed;
}

/* Stats (Banner Info) */
.stats {
    display: flex;
    width: 100%;
    background-color: var(--bg-tchild); /* Theme Aware: dùng màu nền phụ */
    border-radius: var(--rounded-box);
    border: 1px solid var(--border-color);
    overflow: hidden;
}

.stat {
    display: inline-grid;
    width: 100%;
    grid-template-columns: repeat(1, 1fr);
    padding: 1.5rem;
    border-right: 1px solid var(--border-color);
}

.stat:last-child {
    border-right: none;
}

.stat-title {
    grid-column-start: 1;
    white-space: nowrap;
    color: var(--text-label); /* Theme Aware */
    font-size: 0.875rem;
    opacity: 0.8;
}

.stat-value {
    grid-column-start: 1;
    font-size: 1.5rem;
    font-weight: 800;
    line-height: 2.5rem;
    color: var(--text-title); /* Theme Aware */
}

.stat-desc {
    grid-column-start: 1;
    white-space: nowrap;
    font-size: 0.75rem;
    color: var(--success); /* Hardcode success color for info */
}

/* Range Slider */
.range {
    height: 1.5rem;
    width: 100%;
    cursor: pointer;
    appearance: none;
    -webkit-appearance: none;
    background: transparent;
    border-radius: var(--rounded-box);
    overflow: hidden;
}

.range::-webkit-slider-runnable-track {
    width: 100%;
    height: 0.5rem;
    background-color: var(--border-color); /* Theme Aware Track */
    border-radius: var(--rounded-box);
}

.range::-webkit-slider-thumb {
    -webkit-appearance: none;
    height: 1.5rem;
    width: 1.5rem;
    background-color: var(--primary); /* Theme Aware Thumb */
    border-radius: 50%;
    margin-top: -0.5rem; 
    box-shadow: 0 0 0 3px var(--bg-container), 0 0 0 6px var(--primary);
    transition: background-color 0.2s;
}

/* Badge */
.badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: 1.9rem;
    height: 1.25rem;
    font-size: 0.875rem;
    line-height: 1.25rem;
    width: fit-content;
    padding-left: 0.563rem;
    padding-right: 0.563rem;
    background-color: var(--bg-menu);
    color: #fff;
    border: 1px solid var(--bg-menu);
}

.badge-secondary {
    background-color: var(--secondary);
    border-color: var(--secondary);
    color: #fff;
}

/* Alerts & Panels */
.bg-base-200 { 
    background-color: var(--bg-tchild) !important; /* Override Tailwind utility */
}

#actionWarning{
    padding: 1rem 0;
}

.alert {
    display: grid;
    width: 100%;
    grid-auto-flow: row;
    align-content: flex-start;
    justify-items: center;
    text-align: center;
    gap: 0.5rem;
    border-radius: var(--rounded-box);
    padding: 1rem;
    border-width: 1px;
}

@media (min-width: 768px) {
    .alert {
        grid-auto-flow: column;
        grid-template-columns: auto minmax(auto, 1fr);
        justify-items: start;
        text-align: left;
    }
}

.alert-warning {
    background-color: var(--warning);
    color: #fff; /* Text dark for readability on yellow */
    border-color: var(--warning);
}

.alert-error {
    background-color: var(--error);
    color: #fff;
    border-color: var(--error);
}

.alert-info {
    background-color: var(--info);
    color: #fff;
    border-color: var(--info);
}

.alert-success {
    background-color: var(--success);
    color: #fff;
    border-color: var(--success);
}

/* Toast (Notification) */
.toast-semi-auto-mint {
    position: fixed;
    display: flex;
    min-width: fit-content;
    flex-direction: column;
    white-space: nowrap;
    gap: 0.5rem;
    padding: 1rem;
    top: 0;
    right: 0;
    z-index: 9999;
    pointer-events: none;
}

.toast-semi-auto-mint > * {
    pointer-events: auto;
    animation: slideInRight 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
}

/* =========================================
   3. ANIMATIONS & UTILITIES
   ========================================= */

.hidden {
    display: none !important;
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

#mainInterface:not(.hidden) {
    animation: fadeInUp 0.5s ease-out forwards;
}

@keyframes slideInRight {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

/* Spinner */
.loading {
    pointer-events: none;
    display: inline-block;
    aspect-ratio: 1 / 1;
    width: 1.5rem;
    background-color: currentColor;
    mask-size: 100%;
    mask-repeat: no-repeat;
    mask-position: center;
    mask-image: url("data:image/svg+xml,%3Csvg width='24' height='24' stroke='%23000' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cstyle%3E.spinner_V8m1%7Btransform-origin:center;animation:spinner_zKoa 2s linear infinite%7D.spinner_V8m1 circle%7Bstroke-linecap:round;animation:spinner_YpZS 1.5s ease-in-out infinite%7D%40keyframes spinner_zKoa%7B100%25%7Btransform:rotate(360deg)%7D%7D%40keyframes spinner_YpZS%7B0%25%7Bstroke-dasharray:0 150;stroke-dashoffset:0%7D47.5%25%7Bstroke-dasharray:42 150;stroke-dashoffset:-16%7D95%25%2C100%25%7Bstroke-dasharray:42 150;stroke-dashoffset:-59%7D%7D%3C%2Fstyle%3E%3Cg class='spinner_V8m1'%3E%3Ccircle cx='12' cy='12' r='9.5' fill='none' stroke-width='3'%3E%3C%2Fcircle%3E%3C%2Fg%3E%3C%2Fsvg%3E");
    -webkit-mask-image: url("data:image/svg+xml,%3Csvg width='24' height='24' stroke='%23000' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cstyle%3E.spinner_V8m1%7Btransform-origin:center;animation:spinner_zKoa 2s linear infinite%7D.spinner_V8m1 circle%7Bstroke-linecap:round;animation:spinner_YpZS 1.5s ease-in-out infinite%7D%40keyframes spinner_zKoa%7B100%25%7Btransform:rotate(360deg)%7D%7D%40keyframes spinner_YpZS%7B0%25%7Bstroke-dasharray:0 150;stroke-dashoffset:0%7D47.5%25%7Bstroke-dasharray:42 150;stroke-dashoffset:-16%7D95%25%2C100%25%7Bstroke-dasharray:42 150;stroke-dashoffset:-59%7D%7D%3C%2Fstyle%3E%3Cg class='spinner_V8m1'%3E%3Ccircle cx='12' cy='12' r='9.5' fill='none' stroke-width='3'%3E%3C%2Fcircle%3E%3C%2Fg%3E%3C%2Fsvg%3E");
}

/* Font/Text Utils */
.font-mono {
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}

.text-center { text-align: center; }
.text-right { text-align: right; }
.text-xs { font-size: 0.75rem; line-height: 1rem; }
.text-sm { font-size: 0.875rem; line-height: 1.25rem; }
.text-xl { font-size: 1.25rem; line-height: 1.75rem; }
.text-2xl { font-size: 1.5rem; line-height: 2rem; }
.text-3xl { font-size: 1.875rem; line-height: 2.25rem; }
.font-bold { font-weight: 700; }
.font-black { font-weight: 900; }

/* Use Theme Variables for Text Colors */
.text-primary { color: var(--primary); }
.text-success { color: var(--success); }
.text-warning { color: var(--warning); }
.text-error { color: var(--error); }
.opacity-50 { opacity: 0.5; }
.opacity-70 { opacity: 0.7; }

/* Grid Layouts */
.grid { display: grid; }
.grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
.gap-4 { gap: 1rem; }
.w-full { width: 100%; }
.h-full { height: 100%; }
.flex { display: flex; }
.flex-col { flex-direction: column; }
.items-center { align-items: center; }
.justify-between { justify-content: space-between; }
.mb-4 { margin-bottom: 1rem; }
.mb-6 { margin-bottom: 1.5rem; }
.mb-8 { margin-bottom: 2rem; }
.p-4 { padding: 1rem; }
.mt-2 { margin-top: 0.5rem; }
.mt-4 { margin-top: 1rem; }
.mt-6 { margin-top: 1.5rem; }
.shadow-xl { box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04); }